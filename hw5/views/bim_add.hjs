<!DOCTYPE html>
<html>
  <head>
    <title>Add BIM Object</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  </head>
  <body class="p-4">

    <h2 class="mb-4">Add BIM Object</h2>

    <div class="mb-3">
      <p><strong>Product ID:</strong>
        <span class="badge bg-info">{{product_id}}</span>
      </p>
      <p><strong>Name (VMD SNCS):</strong> {{product.vmd_sncs}}</p>
    </div>

    <hr/>

    <!-- ฟอร์มเดียว ใช้ product ตัวเดียว -->
    <form method="post" action="/bim/{{product_id}}/add">

      <div class="mb-3">
        <label class="form-label">BIM Code</label>
        <input type="text" name="bim_code" class="form-control"
               value="{{product.bim_code}}"
               placeholder="BIM-{{product.product_id}}" required>
      </div>

      <div class="mb-3">
        <label class="form-label">BIM Name</label>
        <input type="text" name="bim_name" class="form-control"
               value="{{product.bim_name}}"
               placeholder="Generic Product" required>
      </div>

      <div class="mb-3">
        <label class="form-label">BIM File (file name ใน public/bim_files)</label>
        <input type="text" name="bim_file" class="form-control"
               value="{{product.bim_file}}"
               placeholder="เช่น Double_action_double_door_8597.rfa" required>
        <div class="form-text">
          ต้องตรงกับไฟล์ในโฟลเดอร์ <code>public/bim_files</code>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">BIM Thumbnail</label>
        <input type="text" name="bim_thumbnail" class="form-control"
               value="{{product.bim_thumbnail}}"
               placeholder="เช่น Double_action_double_door_8597.jpg">
      </div>

      <div class="mb-3">
        <label class="form-label">BIM Notes / Parameters</label>
        <textarea name="bim_notes" rows="4"
                  class="form-control"
                  placeholder="ใส่รายละเอียด / parameter">{{product.bim_notes}}</textarea>
      </div>

      <button type="submit" class="btn btn-primary">Save BIM</button>
      <a href="/products" class="btn btn-secondary ms-2">Cancel</a>
    </form>

  </body>
</html>
